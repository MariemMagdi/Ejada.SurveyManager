@using Ejada.SurveyManager.SurveyInstances.Dtos
@using Ejada.SurveyManager.Surveys.Enums
@using Ejada.SurveyManager.Localization
@inject Volo.Abp.AspNetCore.Components.Web.AbpBlazorMessageLocalizerHelper<SurveyManagerResource> LH

@inherits AbpComponentBase

<Field>
    <FieldLabel>@L["Select Rating"]</FieldLabel>
    <Select TValue="int?" @bind-SelectedValue="Question.AnswerValue" Disabled="@IsReadOnly">
        <SelectItem Value="@((int?)null)">-- @L["Select Rating"] --</SelectItem>
        @for (int i = 1; i <= MaxValue; i++)
        {
            var value = i;
            <SelectItem Value="@((int?)value)">@value</SelectItem>
        }
    </Select>
</Field>

@code {
    [Parameter]
    public QuestionForAnsweringDto Question { get; set; } = null!;

    [Parameter]
    public bool IsReadOnly { get; set; }

    private int MaxValue => Question.Type == QuestionType.Likert1To5 ? 5 : 7;
}

